<!-- title: Nextでdeployする時にどんなサーバーを使うべきか迷った話 -->
<!-- tags: Next, Versel, Netlify, Amplify, EC2 -->

個人ブログを開発していて、どのサーバーにデプロイするか迷ったので、まとめてみた。

## 1. Vercel

**メリット:**

- **Next.js との深い統合:** Next.js の開発元が提供しており、最適なパフォーマンスと機能を享受できます。
- **簡単なデプロイ:** Git リポジトリと連携し、コードのプッシュで自動的にビルド・デプロイが行われます。
- **サーバーレス関数のサポート:** API ルートや動的な機能を容易に実装できます。

**デメリット:**

- **無料プランの制限:** 無料プランでは商用利用が禁止されており、商用プロジェクトには有料プランの検討が必要です。
- **カスタマイズの制限:** サーバー環境の細かな設定や特定のミドルウェアの導入が制限される場合があります。

**適したサイトの種類:**

- **個人ブログ:** Next.js との深い統合により、ブログのパフォーマンスや機能性を最大限に引き出せます。
- **小規模なユーザー向けサイト:** 迅速なデプロイと自動スケーリングが求められるサイトに適しています。

---

## 2. Netlify

**メリット:**

- **簡単なデプロイ:** Git リポジトリと連携し、コードのプッシュで自動的にビルド・デプロイが行われます。
- **サーバーレス関数のサポート:** バックエンドの機能をサーバーレスで実装できます。
- **無料プランでの商用利用:** 個人や小規模プロジェクトであれば、無料プランでも商用利用が可能です。

**デメリット:**

- **CDN の配置:** CDN のエッジが国内にないため、日本からのアクセスでは他のサービスと比較して遅延が生じる可能性があります。
- **ビルド時間:** ビルド時間が他のサービスと比較して長くなる場合があります。

**適したサイトの種類:**

- **静的サイト:** 静的コンテンツを中心としたサイトに適しています。
- **Jamstack アーキテクチャのサイト:** サーバーレス関数を活用した動的機能を持つサイトに適しています。

---

## 3. Cloudflare Pages

**メリット:**

- **高速なコンテンツ配信:** グローバルなエッジネットワークにより、ユーザーに近い場所からコンテンツを提供します。
- **無料プランでの商用利用:** 商用プロジェクトでも無料で利用可能です。
- **無制限の帯域幅:** 大規模なトラフィックにも対応できます。

**デメリット:**

- **サーバーサイドレンダリング（SSR）の制限:** 現時点では、Next.js の SSR を完全にサポートしておらず、設定や制限に注意が必要です。
- **ビルド時間:** ビルド時間が他のサービスと比較して長くなる場合があります。

**適したサイトの種類:**

- **静的サイト:** 静的コンテンツを中心としたサイトに適しています。
- **グローバルなユーザー向けサイト:** 世界中のユーザーに高速なコンテンツ配信を提供したい場合に適しています。

---

## 4. AWS Amplify

**メリット:**

- **フルマネージドサービス:** 認証、API、ストレージなどのバックエンドサービスとシームレスに統合できます。
- **簡単なデプロイ:** Git リポジトリと連携し、自動デプロイが可能です。
- **SSR のサポート:** Next.js のサーバーサイドレンダリングをサポートしています。

**デメリット:**

- **学習コスト:** AWS の各種サービスとの連携には学習が必要です。
- **コスト管理:** 利用するサービスに応じてコストが変動するため、注意が必要です。

**適したサイトの種類:**

- **フルスタックアプリケーション:** バックエンドとフロントエンドを統合したアプリケーションに適しています。
- **大規模なユーザー向けサイト:** スケーラビリティと信頼性が求められるサイトに適しています。

---

## 5. AWS EC2

**メリット:**

- **高いカスタマイズ性:** サーバー環境を自由に設定でき、必要なミドルウェアやライブラリをインストール可能です。
- **柔軟なスケーリング:** オートスケーリング機能を使用して、トラフィックの増減に応じてインスタンス数を調整できます。
- **多様なインスタンスタイプ:** アプリケーションの要件に応じて、適切なインスタンスタイプを選択できます。

**デメリット:**

- **管理の負担:** サーバーのセットアップ、セキュリティパッチの適用、スケーリング設定など、運用管理の手間がかかります。
- **コスト管理の複雑さ:** インスタンスの稼働時間やリソース使用量に応じて課金されるため、コスト最適化が必要です。
- **デプロイの複雑さ:** デプロイプロセスの自動化や CI/CD パイプラインの構築には追加の設定が必要です。

**適したサイトの種類:**

- **カスタマイズ性が求められるサイト:** 特定のサーバー設定やミドルウェアが必要なアプリケーションに適しています。
- **高トラフィックサイト:** トラフィックの急増に対応するためのスケーリングが必要なサイトに適しています。
- **セキュリティ要件が高いサイト:** 独自のセキュリティ設定やネットワーク構成が必要な場合に適しています。

---

商用利用の予定が無いブログ利用だと、versel が適しているので、versel を採用しました！ご参考までに
